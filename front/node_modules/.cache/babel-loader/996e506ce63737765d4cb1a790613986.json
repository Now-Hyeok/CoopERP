{"ast":null,"code":"import SalesRegister from '@/components/SalesRegister.vue';\nimport axios from 'axios';\nimport { mapActions, mapMutations, mapState } from 'vuex';\nexport default {\n  name: 'transactionSales',\n  computed: { ...mapState(['salesList', 'salesModal', 'productList'])\n  },\n  methods: { ...mapMutations(['closeSalesModal', 'openSalesModal']),\n    ...mapActions(['getSalesList', 'getShipmentList', 'getQuantity']),\n\n    deleteSales(id) {\n      axios.delete(`/api/sales/delete/${id}`).then(() => {\n        this.getSalesList();\n      }).catch(err => {\n        console.error(err);\n      });\n    },\n\n    shipment(id) {\n      axios.get(`/api/sales/shipment/${id}`).then(() => {\n        this.deleteSales(id);\n        this.getShipmentList();\n        this.getQuantity();\n      }).catch(err => {\n        console.error(err);\n      });\n    }\n\n  },\n  components: {\n    SalesRegister\n  }\n};","map":{"version":3,"mappings":"AA0CA,OAAOA,aAAP,MAA0B,gCAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,YAArB,EAAmCC,QAAnC,QAAmD,MAAnD;AAEA,eAAe;EAEXC,IAAI,EAAC,kBAFM;EAGXC,QAAQ,EAAC,EACP,GAAGF,QAAQ,CAAC,CAAC,WAAD,EAAa,YAAb,EAA0B,aAA1B,CAAD;EADJ,CAHE;EAMXG,OAAO,EAAC,EACN,GAAGJ,YAAY,CAAC,CAAC,iBAAD,EAAmB,gBAAnB,CAAD,CADT;IAEN,GAAGD,UAAU,CAAC,CAAC,cAAD,EAAgB,iBAAhB,EAAkC,aAAlC,CAAD,CAFP;;IAINM,WAAW,CAACC,EAAD,EAAI;MACbR,KAAK,CAACS,MAAN,CAAc,qBAAoBD,EAAG,EAArC,EACCE,IADD,CACM,MAAI;QACR,KAAKC,YAAL;MACD,CAHD,EAICC,KAJD,CAIQC,GAAD,IAAO;QACZC,OAAO,CAACC,KAAR,CAAcF,GAAd;MACD,CAND;IAOD,CAZK;;IAcNG,QAAQ,CAACR,EAAD,EAAI;MACVR,KAAK,CAACiB,GAAN,CAAW,uBAAsBT,EAAG,EAApC,EACCE,IADD,CACM,MAAI;QACR,KAAKH,WAAL,CAAiBC,EAAjB;QACA,KAAKU,eAAL;QACA,KAAKC,WAAL;MACD,CALD,EAMCP,KAND,CAMQC,GAAD,IAAO;QACZC,OAAO,CAACC,KAAR,CAAcF,GAAd;MACD,CARD;IASD;;EAxBK,CANG;EAgCXO,UAAU,EAAC;IAACrB;EAAD;AAhCA,CAAf","names":["SalesRegister","axios","mapActions","mapMutations","mapState","name","computed","methods","deleteSales","id","delete","then","getSalesList","catch","err","console","error","shipment","get","getShipmentList","getQuantity","components"],"sourceRoot":"","sources":["C:\\Users\\J.H.Lee\\Documents\\ProjectFiles\\Inventory Management\\Inventory\\front\\src\\pages\\TransactionManagement\\TransactionSales.vue"],"sourcesContent":["<template>\r\n<SalesRegister v-if=\"salesModal == true\" @salesRegister=\"closeSalesModal();getSalesList();\"/>\r\n\r\n<div class=\"register\">\r\n  <table class=\"user-table\">\r\n    <caption>List of Sales</caption>\r\n    <thead >\r\n      <tr>\r\n        <th scope=\"col\">#</th>\r\n        <th scope=\"col\">Sales Date</th>\r\n        <th scope=\"col\">Buyer</th>\r\n        <th scope=\"col\">Product</th>\r\n        <th scope=\"col\">Amount</th>\r\n        <th scope=\"col\">Price</th>\r\n        <th scope=\"col\">Shipment</th>\r\n        <th scope=\"col\">Delete</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr class=\"salesList\" scope=\"row\" v-for=\"(item,i) in salesList\" :key=\"item\" >\r\n        <th scope=\"row\">{{i+1}}</th>\r\n        <td>{{item.Sales_date.substring(0,10)}}</td>\r\n        <td>{{item.Sales_buyer}}</td>\r\n        <td>{{item.Product_name}}</td>\r\n        <td>{{item.Sales_amount}}</td>\r\n        <td>{{item.Sales_price}}</td>\r\n        <td><button type=\"button\" class=\"btn btn-light\" @click=\"shipment(item.Sales_id)\">Shipment</button></td>\r\n        <td><button type=\"button\" class=\"btn btn-light\" @click=\"deleteSales(item.Sales_id)\">X</button></td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <div>\r\n    <button type=\"button\" class=\"btn btn-primary\" @click=\"openSalesModal()\">\r\n    New Product\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport SalesRegister from '@/components/SalesRegister.vue';\r\nimport axios from 'axios'\r\nimport { mapActions, mapMutations, mapState } from 'vuex'\r\n\r\nexport default {\r\n\r\n    name:'transactionSales',\r\n    computed:{\r\n      ...mapState(['salesList','salesModal','productList']),\r\n    },\r\n    methods:{\r\n      ...mapMutations(['closeSalesModal','openSalesModal']),\r\n      ...mapActions(['getSalesList','getShipmentList','getQuantity']),\r\n\r\n      deleteSales(id){\r\n        axios.delete(`/api/sales/delete/${id}`)\r\n        .then(()=>{\r\n          this.getSalesList();\r\n        })\r\n        .catch((err)=>{\r\n          console.error(err);\r\n        })\r\n      },\r\n\r\n      shipment(id){\r\n        axios.get(`/api/sales/shipment/${id}`)\r\n        .then(()=>{\r\n          this.deleteSales(id);\r\n          this.getShipmentList();\r\n          this.getQuantity();\r\n        })\r\n        .catch((err)=>{\r\n          console.error(err);\r\n        })\r\n      },\r\n    },\r\n    components:{SalesRegister}\r\n}\r\n</script>\r\n\r\n<style>\r\n.register{\r\n  padding:20px;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: auto;\r\n}\r\n\r\ntd,th{\r\n  padding:15px; \r\n  border: 1px solid #c2d3de;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}